(function(){buyWithTexts=["buywith"],soldOutTexts=["ausverkauft","soldout","esgotado","изчерпананаличност"],addtocartTexts=["indenwarenkorblegen","addtocart","addtoorder","addtobag","addtobasket","ajouteraupanier","indenwarenkorb","indeneinkaufswagen","agregaralcarrito","añadiralcarrito","añadiralacesta","加入購物車","加入購物清單","加入购物车","aggiungialcarrello","Додадивокошничка","カートに追加する","j'ajouteàmonpanier","sepeteekle","abinskörbchen","aanwinkelwagentoevoegen","alcarrito","leggihandlekurv","adaugaincos","カートに追加","přidat","přidatdokošíku","přidatdobatohu","přidatdotašky","adicionaraocarrinho","أضفإلىالسلة","dodajdokoszyka","lägivarukorb","läglvarukorb","läggivarukorb","lägglvarukorb","indenwinkaufswagenlegen","läggivarukorg","添加到购物车","dodajvvoziček","dodajvtorbo","dodajvkošarico","dodajteukorpu","j'ajouteàmonpanier🛒","lisääostoskoriin","この商品をカートへ入れる","toevoegenaanwinkelwagen","adăugațiîncoș","indeneinkaufswagenlegen","放入購物車","addtoshoppingcart","lægikurven","הוספהלסל","tilføjtilkurv","inwarenkorb","voegtoeaanwinkelwagen","hozzáadásakosárhoz","tambahkankekeranjang","カートに入れる","aggiungialcalderone","masukkankekeranjang","카트에추가","thêmvàogiỏhàng","ajouter","tilføjkurv","lægiindkøbskurv","adaugîncoș","läggivarukorgen","カートに追加するにゃ","läggtillikundvagnen"],buyNowTexts=["jetztkaufenmitgooglepaymit","buyitnow","buynowwithgooglepaybuywith","buynow","achetezmaintenant","achetermaintenant","jetztkaufen","jetztzumcheckout","comprarahora","立刻購買","立即购买","acquistaora","今すぐ購入","hemensatınalın","nukopen","kjøpnå","koupitteď","kupnyní","kupteraz","köpnu","comprar","kupitezdaj","belisekarang","buynowwithshoppay","купетесега"];const e=window.DashPreordersLocales||window.DashPreorders.settings;function t(e){return""===e||null==e}function n(e){let t=[],n=e.length;for(i=0;i<n;i++)0==e[i].childElementCount&&t.push(e[i]);return t}function r(e){let t=e.length;for(i=0;i<t;i++){let t=e[i];if(t.childElementCount>0){let n=[].slice.call(t.children);e=e.concat(n)}}return e=e.filter(s)}function o(e){let t=[].slice.call(e.children);for(let e=0;e<25;e++)t=r(t);return t}function a(e){return n(o(e))}function l(e){return Math.max.apply(Math,e)}function s(e,t,n){return n.indexOf(e)===t}function c(e){let t={},n=o(e);for(let e=0;e<n.length;e++)"input"==n[e].tagName.toLowerCase()&&"id"==n[e].name.toLowerCase()&&(t.inputSelect=n[e].value);for(let e=0;e<n.length;e++)"select"==n[e].tagName.toLowerCase()&&"id"==n[e].name.toLowerCase()&&(t.variantSelect=n[e].value);return t}function p(){return document.querySelectorAll(window.DashPreorders.settings.productFormSelector||'form[action*="cart/Add" i]')}function d(e,t,n){let r=a(t);for(let t=0;t<r.length;t++){let o=r[t].textContent.toLowerCase().replace(/\s/g,"");n.includes(o)&&(r[t].textContent=e);let a=r[t];if(("submit"==a.type||"button"==a.type)&&a.value){let t=a.value.toLowerCase().replace(/\s/g,"");n.includes(t)&&(a.value=e)}}}function u(e){let t=o(e),n=[],r=[];for(let e=0;e<t.length;e++){let o=t[e].textContent.toLowerCase().replace(/\s/g,"");buyNowTexts.includes(o)&&(n.push(t[e]),r.push(t[e].childElementCount))}for(let e=0;e<n.length;e++)n[e].childElementCount==l(r)&&n[e].remove()}function h(t){d(e.buttonText,t,addtocartTexts),d(e.buttonTextEnded,t,soldOutTexts),d(e.buttonTextBuyWith,t,buyWithTexts)}function g(){document.querySelectorAll(".price").forEach((t=>{d(e.buttonTextEnded,t,soldOutTexts)}))}function m(n){const r=e.buttonTextNow;t(r)?y(n):d(r,n,buyNowTexts)}function y(e){u(e)}function c(e){let t={},n=o(e);for(let e=0;e<n.length;e++)"input"==n[e].tagName.toLowerCase()&&"id"==n[e].name.toLowerCase()&&(t.inputSelect=n[e].value);for(let e=0;e<n.length;e++)"select"==n[e].tagName.toLowerCase()&&"id"==n[e].name.toLowerCase()&&(t.variantSelect=n[e].value);return t}function f(t){const n=e.lineItemPropProductTypeKey,r=e.lineItemPropProductTypeValue;if(t.querySelectorAll(".dash-preorder-prop-container").length<1){const e=document.createElement("div");e.classList.add("dash-preorder-prop-container");const o=`<input class="dash-preorder-prop" name="properties[${n}]" type="hidden" value="${r}" />`,a='<input class="dash-preorder-prop" name="properties[_preorder]" type="hidden" value="true" />';e.innerHTML=o+a,t.appendChild(e)}}function w(e,t){const n=E(t);if(null===n)return;if(e.querySelectorAll(".selling-plan-container").length<1){const t=document.createElement("div");t.classList.add("selling-plan-container");const r=`<input class="selling-plan-input" name="selling_plan" type="hidden" value="${n}" />`;t.innerHTML=r,e.appendChild(t)}else{e.querySelector(".selling-plan-input").value=n}const r=e.querySelectorAll("[name=selling_plan]");for(let e=0;e<r.length;e++){r[e].value=n}}function v(n,r){const o=j(r),a=L(r),i=e.lineItemPropShipByText;if(t(o))n.querySelector(".dash-preorder-shipping-prop-container")&&n.querySelector(".dash-preorder-shipping-prop-container").remove();else if(n.querySelectorAll(".dash-preorder-shipping-prop-container").length<1){const e=document.createElement("div");e.classList.add("dash-preorder-shipping-prop-container");const t=`<input class="dash-preorder-shipping-prop" name="properties[${i}]" type="hidden" value="${a}" />`,r=`<input class="dash-preorder-shipping-prop" name="properties[_preorder]" type="hidden" value="${o}" />`;e.innerHTML=t+r,n.appendChild(e)}else{const e=n.querySelector(`.dash-preorder-shipping-prop-container .dash-preorder-shipping-prop[name="properties[${i}]"]`),t=n.querySelector(".dash-preorder-shipping-prop-container .dash-preorder-shipping-prop[name='properties[_preorder]']");e.value=a,t.value=o}}function k(n,r){const o=L(r),a=document.getElementById("dash-shipping-policy-container"),i=a||n;if(t(o))return void(i.querySelector(".dash-shipping-policy")&&i.querySelector(".dash-shipping-policy").remove());const l=e.shippingPolicyText,s=e.shippingPolicyColour,c=l.replace("{ship_date}",o);if(i.querySelector(".dash-shipping-policy"))return void(i.querySelector(".dash-shipping-policy").innerText.replaceAll(" ","")!==c.replaceAll(" ","")&&i.querySelector(".dash-shipping-policy").remove());const p=C(n);if(null===p&&null===a)return;const d=document.createElement("p"),u=document.createElement("span");u.innerHTML=c,d.appendChild(u),d.classList.add("dash-shipping-policy"),d.style=`color: ${s}; font-size: 0.8em;`,null===a?p.parentElement.prepend(d):(a.innerHTML="",a.appendChild(d))}function b(e){const t=document.querySelectorAll(".dash-shipping-policy");for(let e=0;e<t.length;e++)t[e].remove()}function S(e){e.querySelector(".dash-preorder-prop-container")&&e.querySelector(".dash-preorder-prop-container").remove(),e.querySelector(".dash-preorder-shipping-prop-container")&&e.querySelector(".dash-preorder-shipping-prop-container").remove(),e.querySelector(".selling-plan-container")&&e.querySelector(".selling-plan-container").remove();const t=e.querySelectorAll("[name=selling_plan]");for(let e=0;e<t.length;e++){t[e].value=""}}const C=t=>{const n=addtocartTexts.concat(e.buttonText.toLowerCase().split(" ").join(""));for(let e=0;e<n.length;e++){const r=n[e],a=o(t),i=[],s=[];for(let e=0;e<a.length;e++){a[e].textContent.toLowerCase().replace(/\s/g,"")===r&&(i.push(a[e]),s.push(a[e].childElementCount))}for(let e=0;e<i.length;e++)if(i[e].childElementCount===l(s))return i[e]}return null};function x(){const e=document.querySelectorAll('script[type="application/ld+json"]'),t=new Set;e.forEach((e=>{try{const n=JSON.parse(e.textContent);"Product"===n["@type"]&&n.url&&t.add(n.url)}catch(e){console.error("Error parsing JSON-LD:",e)}}));return document.querySelectorAll("[data-url]").forEach((e=>{const n=e.getAttribute("data-url");n&&t.add(n)})),Array.from(t)}function T(){const e=x();e.forEach((e=>{fetch(e).then((e=>e.text())).then((e=>{const t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.getElementById("dash-preorder-data");if(r){const e=r.textContent.trim(),t=`(() => {\n            ${e}\n            return window.DashPreorders;\n          })()`,n=eval(t),o=n.productVariants;window.DashPreorders&&o&&(window.DashPreorders.productVariants=Object.assign(window.DashPreorders.productVariants,o))}}))}))}function q(e){if(!window.DashPreorders.productVariants[e])return!1;const t=window.DashPreorders.productVariants[e];if(!t.preorderActive)return!1;let n=!1;switch(t.preorderType){case"preorder_always":case"preorder_with_limit":n=!0;break;case"preorder_when_unavailable":n=t.inventoryQuantity<=0;break;default:n=!1}return n}function L(e){return window.DashPreorders.productVariants[e].shippingDateFormatted}function j(e){return window.DashPreorders.productVariants[e].shippingDate}function E(e){const t=window.DashPreorders.productVariants[e].sellingPlans;return t.length>0?t[0].id:null}const P=async e=>{let t=await c(e);t=t.variantSelect?t.variantSelect:t.inputSelect;q(t)?(await h(e),await m(e),await f(e),await k(e,t),await v(e,t),await g(),await w(e,t)):(await S(e),await b(e))},A=async()=>{const e=p();for(let t=0;t<e.length;t++)await P(e[t])},D=(e,t,n)=>{const r=setInterval(e,n);setTimeout((()=>{clearInterval(r)}),t)},z=(e,t,n)=>{const r=document.getElementsByTagName("body")[0];r&&(r.addEventListener("click",(()=>{D(e,t,n)})),clearInterval(_))};let _=setInterval((()=>{z(A,3209,529)}),600);z(A,3209,529),D(A,6e3,505)})();